(function(g){function q(a,b){if(a&&a._slider&&a._slider.length&&a._sliderChildren&&a._sliderChildren.length&&b){var d=a._slider,c=a._sliderChildren,e=a._thumbsContainer,l=!1,h=!1,n=!1,i=!1,k=!1;e&&0<e.length&&(e.addClass("slip-gallery-thumbs-container"),e.wrapInner('<div class="slip-gallery-thumbs-wrap"></div>'),l=e.find(".slip-gallery-thumbs-wrap"),0<l.length&&(h=l.find(b.thumbsChildSelector),0<h.length&&(h.addClass("slip-gallery-thumbs-slide"),k=!0)));k&&(e.css({display:"block",position:"relative",overflow:"hidden"}),l.css({display:"block",position:"absolute",top:"0px",left:"0px",width:"9999px"}),h.css({"float":"left",cursor:"pointer",display:"block"}),h.eq(0).addClass("slip-gallery-thumbs-slide-active"));if(!1==k||c.length==h.length){d.css({position:"relative",display:"block"}).addClass("slip-gallery");var m=!1;c.each(function(a){var b=g(this);b.css({position:"absolute",left:"0px",top:"0px"});0==a?(m=b,b.css({"z-index":"2"}).addClass("slip-gallery-slide-active")):b.hide().css({"z-index":"1"});b.addClass("slip-gallery-slide")});c=g(g("<div />").append(g(m).eq(0).clone()).html());d.prepend(c);c.css({visibility:"hidden",display:"block",position:"static","z-index":"0",left:"",top:""}).removeClass("slip-gallery-slide slip-gallery-slide-active").addClass("slip-gallery-sentinel");b.prevSelector&&(n=g(b.prevSelector),n.css({cursor:"pointer"}));b.nextSelector&&(i=g(b.nextSelector),i.css({cursor:"pointer"}));a._thumbsWrap=l;a._thumbsChildren=h;a._sentinelSlide=c;a._prevBtn=n;a._nextBtn=i;u(a,b);r(a,b);v(a,b);var f=a,j=b,f=f||{},j=j||{};f._thumbsChildren&&f._thumbsChildren.each(function(a){g(this).click(function(b){b.preventDefault();f.newSlideIndex=a;s(f,j)})});f._prevBtn&&f._prevBtn.click(function(a){a.preventDefault();var a=f,b=j,a=a||{},b=b||{};if(a._sliderChildren){var e=t(a,b),c=e-1;0>c&&(c=a._sliderChildren.length-1);a.curSlideIndex=e;a.newSlideIndex=c;s(a,b)}});f._nextBtn&&f._nextBtn.click(function(a){a.preventDefault();w(f,j)});f.resizeCheck=!1;g(window).resize(function(){!1==f.resizeCheck&&(f.resizeCheck=!0,setTimeout(function(){r(f,j);u(f,j);r(f,j);var a=f,b=j;a._sliderChildren&&(a._sliderChildren.stop(!0,!0).removeClass("slip-gallery-slide-active").hide().css("z-index","1"),a._sliderChildren.eq(0).stop(!0,!0).addClass("slip-gallery-slide-active").show().css("z-index","2"),a._thumbsContainer&&(a._thumbsWrap&&a._thumbsChildren)&&(a._thumbsWrap.stop(!0,!0).css("left","0px"),a._thumbsChildren.removeClass("slip-gallery-thumbs-slide-active"),a._thumbsChildren.eq(0).addClass("slip-gallery-thumbs-slide-active")));x(a,b);f.resizeCheck=!1},100))});d=a||{};l=b||{};y(d,l)}}}function z(a,b){if(b&&a&&0<a.length){for(var d in p)if(p.hasOwnProperty(d)){var c;c=a.attr("data-"+d);if("undefined"===typeof c||!1===c||""===c)c="";c&&(b[d]=c)}a.each(function(){var a={_slider:g(this),_sliderChildren:!1,_thumbsContainer:!1,_thumbsWrap:!1,_thumbsChildren:!1,_load_thumbsChildren:!1,_sentinelSlide:!1,_prevBtn:!1,_nextBtn:!1,newSlideIndex:!1,curSlideIndex:!1,timer:!1},c=!1,d=!1,n=!1;b.mainChildSelector&&(c=a._slider.find(b.mainChildSelector),0<c.length&&(b.thumbsContainerSelector&&b.thumbsChildSelector)&&(d=g(b.thumbsContainerSelector),d.length&&(n=d.find(b.thumbsChildSelector))));a._sliderChildren=c;a._thumbsContainer=d;a._load_thumbsChildren=n;if(a._slider&&a._slider.length&&a._sliderChildren&&a._sliderChildren.length){var i=a._sliderChildren.find("img");a._load_thumbsChildren&&a._load_thumbsChildren.length&&i.add(a._load_thumbsChildren.find("img"));var k=!1,m=0;i.length?i.each(function(){if(!k){var c=g(this),d=new Image;d.src=c.attr("src");setTimeout(function(){d.complete?(m++,m==i.length&&(q(a,b),k=!0)):d.onload=function(){m++;m==i.length&&(q(a,b),k=!0)}},1)}}):(q(a,b),k=!0)}})}}function r(a,b){a._thumbsWrap.css("min-height",a._thumbsChildren.eq(0).outerHeight(!1));a._thumbsWrap.css("min-width",a._thumbsChildren.eq(0).outerWidth(!1));if(b.fixWidth||b.fixHeight)a._thumbsWrap.css("position","static"),b.fixWidth&&a._thumbsContainer.css("width","").width(a._thumbsContainer.width()),b.fixHeight&&a._thumbsContainer.css("height","").height(a._thumbsContainer.height()),a._thumbsWrap.css("position","absolute")}function u(a,b){if(a._thumbsChildren&&1<=b.thumbsShown){var d=0<b.thumbsContainerWidth?b.thumbsContainerWidth:a._thumbsContainer.width(),c=0<b.thumbsWidth?b.thumbsWidth:d/b.thumbsShown;a._thumbsChildren.each(function(){g(this).width(c)})}}function t(a){var a=a||{},b=0;a._sliderChildren&&a._sliderChildren.each(function(a){g(this).hasClass("slip-gallery-slide-active")&&(b=a)});return b}function v(a){a=a||{};if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._thumbsContainer&&a._thumbsWrap&&a._thumbsChildren){a._thumbsChildren.eq(a.curSlideIndex).removeClass("slip-gallery-thumbs-slide-active");a._thumbsChildren.eq(a.newSlideIndex).addClass("slip-gallery-thumbs-slide-active");var b=a._thumbsContainer.width(),d=a._thumbsChildren.eq(0).outerWidth(!1),c=Math.ceil(b/d);if(a._thumbsChildren.length>c&&0<a._thumbsChildren.length-c){var d=b/2-d/2,e=a._thumbsChildren.eq(a.newSlideIndex),c=a._thumbsChildren.eq(a._thumbsChildren.length-1),e=e.position(),g=c.position(),e=Math.abs(e.left),h=Math.abs(a._thumbsWrap.position().left),b=Math.abs(g.left)+c.outerWidth(!0)-b,e=e-d;0>e&&(e=0);e>b&&(e=b);b="+=0px";h>e?b="+="+(h-e)+"px":e>h&&(b="-="+(e-h)+"px");a._thumbsWrap.stop(!0,!1).animate({left:b},500)}}}function s(a,b){a=a||{};b=b||{};a.curSlideIndex=t(a,b);if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._sliderChildren){if(a.newSlideIndex>=a._sliderChildren.length||0>a.newSlideIndex||a.newSlideIndex==a.curSlideIndex)return;var d=a._sliderChildren.eq(a.newSlideIndex),c=a._sliderChildren.eq(a.curSlideIndex);d.css({"z-index":"2"}).stop(!0,!0);c.css({"z-index":"1"}).stop(!0,!0);b.fade?(c.show(),d.hide().fadeIn(400,function(){c.hide()})):(d.show(),c.hide());d.addClass("slip-gallery-slide-active");c.removeClass("slip-gallery-slide-active");a._thumbsContainer&&(a._thumbsChildren&&a._thumbsWrap)&&v(a,b)}a.newSlideIndex=!1;a.curSlideIndex=!1;x(a,b)}function w(a,b){a=a||{};b=b||{};if(a._sliderChildren){var d=t(a,b),c=d+1;c>=a._sliderChildren.length&&(c=0);a.curSlideIndex=d;a.newSlideIndex=c;s(a,b)}}function y(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer=setTimeout(function(){w(a,b)},b.delay))}function x(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer&&clearTimeout(a.timer),y(a,b))}var p={mainChildSelector:">*",thumbsContainerSelector:"",thumbsContainerWidth:"auto",thumbsContainerHeight:"auto",thumbsChildSelector:">*",thumbsWidth:"auto",thumbsHeight:"auto",thumbsChildSpaceSelector:"",thumbsSpaceWidth:"auto",thumbsSpaceHeight:"auto",thumbsShown:5,fixHeight:!0,fixWidth:!1,prevSelector:"",nextSelector:"",fade:!1,autoLoop:!0,delay:3E3};g.fn.SlipGallery=function(a){a=g.extend({},p,a);z(this,a)};var A=g(".slip-gallery"),B=g.extend({},p);z(A,B)})(jQuery);