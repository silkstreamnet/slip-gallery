(function(f){function k(a,b){if(b&&a&&0<a.length){for(var c in h)if(h.hasOwnProperty(c)){var d;d=a.attr("data-"+c);if("undefined"===typeof d||!1===d||""===d)d="";d&&(b[c]=d)}a.each(function(){var a={},a=f(this),c=!1,d=!1,l=!1,j=!1,h=!1,m=!1,i=!1;if(b.mainChildSelector&&(c=a.find(b.mainChildSelector),0<c.length&&(b.thumbsContainerSelector&&b.thumbsChildSelector&&(d=f(b.thumbsContainerSelector),0<d.length&&(d.addClass("slip-gallery-thumbs-container"),d.wrapInner('<div class="slip-gallery-thumbs-wrap"></div>'),l=d.find(".slip-gallery-thumbs-wrap"),0<l.length&&(j=l.find(b.thumbsChildSelector),0<j.length&&(j.addClass("slip-gallery-thumbs-slide"),i=!0))),i&&(d.css({display:"block",position:"relative",overflow:"hidden"}),l.css({display:"block",position:"absolute",top:"0px",left:"0px",width:"9999px"}),j.css({"float":"left",cursor:"pointer",display:"block"}),j.eq(0).addClass("slip-gallery-thumbs-slide-active"))),!1==i||c.length==j.length))){a.css({position:"relative",display:"block"}).addClass("slip-gallery");var k=!1,i=!1;c.each(function(a){var b=f(this);b.css({position:"absolute",left:"0px",top:"0px"});0==a?(k=b,b.css({"z-index":"2"}).addClass("slip-gallery-slide-active")):b.hide().css({"z-index":"1"});b.addClass("slip-gallery-slide")});i=f(f("<div />").append(f(k).eq(0).clone()).html());a.prepend(i);i.css({visibility:"hidden",display:"block",position:"static","z-index":"0",left:"",top:""}).removeClass("slip-gallery-slide slip-gallery-slide-active").addClass("slip-gallery-sentinel");b.prevSelector&&(h=f(b.prevSelector),h.css({cursor:"pointer"}));b.nextSelector&&(m=f(b.nextSelector),m.css({cursor:"pointer"}));c=a={_slider:a,_sliderChildren:c,_thumbsContainer:d,_thumbsWrap:l,_thumbsChildren:j,_sentinelSlide:i,_prevBtn:h,_nextBtn:m,newSlideIndex:!1,curSlideIndex:!1,timer:!1};r(c,b);n(c,b);s(a,b);var e=a,g=b,e=e||{},g=g||{};e._thumbsChildren&&e._thumbsChildren.each(function(a){f(this).click(function(b){b.preventDefault();e.newSlideIndex=a;p(e,g)})});e._prevBtn&&e._prevBtn.click(function(a){a.preventDefault();var a=e,b=g,a=a||{},b=b||{};if(a._sliderChildren){var c=q(a,b),d=c-1;0>d&&(d=a._sliderChildren.length-1);a.curSlideIndex=c;a.newSlideIndex=d;p(a,b)}});e._nextBtn&&e._nextBtn.click(function(a){a.preventDefault();t(e,g)});e.resizeCheck=!1;f(window).resize(function(){!1==e.resizeCheck&&(e.resizeCheck=!0,setTimeout(function(){n(e,g);r(e,g);n(e,g);var a=e,b=g;a._sliderChildren&&(a._sliderChildren.stop(!0,!0).removeClass("slip-gallery-slide-active").hide().css("z-index","1"),a._sliderChildren.eq(0).stop(!0,!0).addClass("slip-gallery-slide-active").show().css("z-index","2"),a._thumbsContainer&&(a._thumbsWrap&&a._thumbsChildren)&&(a._thumbsWrap.stop(!0,!0).css("left","0px"),a._thumbsChildren.removeClass("slip-gallery-thumbs-slide-active"),a._thumbsChildren.eq(0).addClass("slip-gallery-thumbs-slide-active")));u(a,b);e.resizeCheck=!1},100))});c=b;a=a||{};c=c||{};v(a,c)}})}}function n(a,b){a._thumbsWrap.css("min-height",a._thumbsChildren.eq(0).outerHeight(!1));a._thumbsWrap.css("min-width",a._thumbsChildren.eq(0).outerWidth(!1));if(b.fixWidth||b.fixHeight)a._thumbsWrap.css("position","static"),b.fixWidth&&a._thumbsContainer.css("width","").width(a._thumbsContainer.width()),b.fixHeight&&a._thumbsContainer.css("height","").height(a._thumbsContainer.height()),a._thumbsWrap.css("position","absolute")}function r(a,b){if(a._thumbsChildren&&1<=b.thumbsShown){var c=0<b.thumbsContainerWidth?b.thumbsContainerWidth:a._thumbsContainer.width(),d=0<b.thumbsWidth?b.thumbsWidth:c/b.thumbsShown;a._thumbsChildren.each(function(){f(this).width(d)})}}function q(a){var a=a||{},b=0;a._sliderChildren&&a._sliderChildren.each(function(a){f(this).hasClass("slip-gallery-slide-active")&&(b=a)});return b}function s(a){a=a||{};if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._thumbsContainer&&a._thumbsWrap&&a._thumbsChildren){a._thumbsChildren.eq(a.curSlideIndex).removeClass("slip-gallery-thumbs-slide-active");a._thumbsChildren.eq(a.newSlideIndex).addClass("slip-gallery-thumbs-slide-active");var b=a._thumbsContainer.width(),c=a._thumbsChildren.eq(0).outerWidth(!1),b=Math.ceil(b/c);if(a._thumbsChildren.length>b&&(c=a._thumbsChildren.length-b,0<c)){var b=a.curSlideIndex>c?c:a.curSlideIndex,c=a._thumbsChildren.eq(a.newSlideIndex>c?c:a.newSlideIndex),b=a._thumbsChildren.eq(b),c=c.position(),d=b.position(),b=c.left,c=d.left,d="+=0px";c<b?d="-="+Math.abs(c-b)+"px":b<c&&(d="+="+Math.abs(b-c)+"px");a._thumbsWrap.stop(!0,!0).animate({left:d},500)}}}function p(a,b){a=a||{};b=b||{};a.curSlideIndex=q(a,b);if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._sliderChildren){if(a.newSlideIndex>=a._sliderChildren.length||0>a.newSlideIndex||a.newSlideIndex==a.curSlideIndex)return;var c=a._sliderChildren.eq(a.newSlideIndex),d=a._sliderChildren.eq(a.curSlideIndex);c.css({"z-index":"2"}).stop(!0,!0);d.css({"z-index":"1"}).stop(!0,!0);b.fade?(d.show(),c.hide().fadeIn(400,function(){d.hide()})):(c.show(),d.hide());c.addClass("slip-gallery-slide-active");d.removeClass("slip-gallery-slide-active");a._thumbsContainer&&(a._thumbsChildren&&a._thumbsWrap)&&s(a,b)}a.newSlideIndex=!1;a.curSlideIndex=!1;u(a,b)}function t(a,b){a=a||{};b=b||{};if(a._sliderChildren){var c=q(a,b),d=c+1;d>=a._sliderChildren.length&&(d=0);a.curSlideIndex=c;a.newSlideIndex=d;p(a,b)}}function v(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer=setTimeout(function(){t(a,b)},b.delay))}function u(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer&&clearTimeout(a.timer),v(a,b))}var h={mainChildSelector:">*",thumbsContainerSelector:"",thumbsContainerWidth:"auto",thumbsContainerHeight:"auto",thumbsChildSelector:">*",thumbsWidth:"auto",thumbsHeight:"auto",thumbsChildSpaceSelector:"",thumbsSpaceWidth:"auto",thumbsSpaceHeight:"auto",thumbsShown:"auto",fixHeight:!0,fixWidth:!1,prevSelector:"",nextSelector:"",fade:!1,autoLoop:!0,delay:3E3};f.fn.SlipGallery=function(a){a=f.extend({},h,a);k(this,a)};var w=f(".slip-gallery"),x=f.extend({},h);k(w,x)})(jQuery);
