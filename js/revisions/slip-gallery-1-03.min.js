(function(g){function q(a,b){if(a&&a._slider&&a._slider.length&&a._sliderChildren&&a._sliderChildren.length&&b){var d=a._slider,c=a._sliderChildren,h=a._thumbsContainer,e=!1,m=!1,i=!1,j=!1,l=!1;h&&0<h.length&&(h.addClass("slip-gallery-thumbs-container"),h.wrapInner('<div class="slip-gallery-thumbs-wrap"></div>'),e=h.find(".slip-gallery-thumbs-wrap"),0<e.length&&(m=e.find(b.thumbsChildSelector),0<m.length&&(m.addClass("slip-gallery-thumbs-slide"),l=!0)));l&&(h.css({display:"block",position:"relative",overflow:"hidden"}),e.css({display:"block",position:"absolute",top:"0px",left:"0px",width:"9999px"}),m.css({"float":"left",cursor:"pointer",display:"block"}),m.eq(0).addClass("slip-gallery-thumbs-slide-active"));if(!1==l||c.length==m.length){d.css({position:"relative",display:"block"}).addClass("slip-gallery");var n=!1;c.each(function(a){var b=g(this);b.css({position:"absolute",left:"0px",top:"0px","max-width":"100%",height:"auto"});0==a?(n=b,b.css({"z-index":"2"}).addClass("slip-gallery-slide-active")):b.hide().css({"z-index":"1"});b.addClass("slip-gallery-slide")});c=g(g("<div />").append(g(n).eq(0).clone()).html());d.prepend(c);c.css({visibility:"hidden",display:"block",position:"static","z-index":"0",left:"",top:""}).removeClass("slip-gallery-slide slip-gallery-slide-active").addClass("slip-gallery-sentinel");b.prevSelector&&(i=g(b.prevSelector),i.css({cursor:"pointer"}));b.nextSelector&&(j=g(b.nextSelector),j.css({cursor:"pointer"}));a._thumbsWrap=e;a._thumbsChildren=m;a._sentinelSlide=c;a._prevBtn=i;a._nextBtn=j;u(a,b);r(a,b);v(a,b);var f=a,k=b,f=f||{},k=k||{};f._thumbsChildren&&f._thumbsChildren.each(function(a){g(this).click(function(b){b.preventDefault();f.newSlideIndex=a;s(f,k)})});f._prevBtn&&f._prevBtn.click(function(a){a.preventDefault();var a=f,b=k,a=a||{},b=b||{};if(a._sliderChildren){var c=t(a,b),h=c-1;0>h&&(h=a._sliderChildren.length-1);a.curSlideIndex=c;a.newSlideIndex=h;s(a,b)}});f._nextBtn&&f._nextBtn.click(function(a){a.preventDefault();w(f,k)});f.resizeCheck=!1;g(window).resize(function(){!1==f.resizeCheck&&(f.resizeCheck=!0,setTimeout(function(){r(f,k);u(f,k);r(f,k);var a=f,b=k;a._sliderChildren&&(a._sliderChildren.stop(!0,!0).removeClass("slip-gallery-slide-active").hide().css("z-index","1"),a._sliderChildren.eq(0).stop(!0,!0).addClass("slip-gallery-slide-active").show().css("z-index","2"),a._thumbsContainer&&(a._thumbsWrap&&a._thumbsChildren)&&(a._thumbsWrap.stop(!0,!0).css("left","0px"),a._thumbsChildren.removeClass("slip-gallery-thumbs-slide-active"),a._thumbsChildren.eq(0).addClass("slip-gallery-thumbs-slide-active")));x(a,b);f.resizeCheck=!1},100))});d=a||{};e=b||{};y(d,e)}}}function z(a,b){if(b&&a&&0<a.length){for(var d in p)if(p.hasOwnProperty(d)){var c;c=a.attr("data-"+d);if("undefined"===typeof c||!1===c||""===c)c="";c&&(b[d]=c)}a.each(function(){var a={_slider:g(this),_sliderChildren:!1,_thumbsContainer:!1,_thumbsWrap:!1,_thumbsChildren:!1,_load_thumbsChildren:!1,_sentinelSlide:!1,_prevBtn:!1,_nextBtn:!1,newSlideIndex:!1,curSlideIndex:!1,timer:!1},c=!1,d=!1,i=!1;b.mainChildSelector&&(c=a._slider.find(b.mainChildSelector),0<c.length&&(b.thumbsContainerSelector&&b.thumbsChildSelector)&&(d=g(b.thumbsContainerSelector),d.length&&(i=d.find(b.thumbsChildSelector))));a._sliderChildren=c;a._thumbsContainer=d;a._load_thumbsChildren=i;if(a._slider&&a._slider.length&&a._sliderChildren&&a._sliderChildren.length){var j=a._sliderChildren.find("img");a._load_thumbsChildren&&a._load_thumbsChildren.length&&j.add(a._load_thumbsChildren.find("img"));var l=!1,n=0;j.length?j.each(function(){if(!l){var c=g(this),d=new Image;d.src=c.attr("src");setTimeout(function(){d.complete?(n++,n==j.length&&(q(a,b),l=!0)):d.onload=function(){n++;n==j.length&&(q(a,b),l=!0)}},1)}}):(q(a,b),l=!0)}})}}function r(a,b){a._thumbsWrap.css("min-height",a._thumbsChildren.eq(0).outerHeight(!1));a._thumbsWrap.css("min-width",a._thumbsChildren.eq(0).outerWidth(!1));if(b.fixWidth||b.fixHeight)a._thumbsWrap.css("position","static"),b.fixWidth&&a._thumbsContainer.css("width","").width(a._thumbsContainer.width()),b.fixHeight&&a._thumbsContainer.css("height","").height(a._thumbsContainer.height()),a._thumbsWrap.css("position","absolute")}function u(a,b){if(a._thumbsChildren&&1<=b.thumbsShown){var d=0<b.thumbsContainerWidth?b.thumbsContainerWidth:a._thumbsContainer.width(),c=0,h=0;if("string"==typeof b.thumbsWidth||b.thumbsWidth instanceof String)b.thumbsWidth.match(/^[0-9]{1,3}(\.[0-9]+)?%$/)?c=d*(parseFloat(b.thumbsWidth)/100):b.thumbsWidth.match(/^[0-9]+(\.[0-9]+)?px$/)&&(c=parseFloat(b.thumbsWidth)),0<c&&1<b.thumbsShown&&(h=(d-c*b.thumbsShown)/(b.thumbsShown-1));else if(("number"==typeof b.thumbsWidth||b.thumbsWidth instanceof Number)&&0<b.thumbsWidth)c=b.thumbsWidth;0==c&&(c=d/b.thumbsShown);a._thumbsChildren.each(function(){g(this).width(c).css("margin-right",h+"px")})}}function t(a){var a=a||{},b=0;a._sliderChildren&&a._sliderChildren.each(function(a){g(this).hasClass("slip-gallery-slide-active")&&(b=a)});return b}function v(a,b){a=a||{};b=b||{};if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._thumbsContainer&&a._thumbsWrap&&a._thumbsChildren){a._thumbsChildren.eq(a.curSlideIndex).removeClass("slip-gallery-thumbs-slide-active");a._thumbsChildren.eq(a.newSlideIndex).addClass("slip-gallery-thumbs-slide-active");var d=a._thumbsChildren.eq(0),c=a._thumbsContainer.width(),d=d.outerWidth(!1),h=1<=b.thumbsShown?b.thumbsShown:Math.ceil(c/d);if(a._thumbsChildren.length>h&&0<a._thumbsChildren.length-h){var d=c/2-d/2,e=a._thumbsChildren.eq(a.newSlideIndex),h=a._thumbsChildren.eq(a._thumbsChildren.length-1),e=e.position(),g=h.position(),e=Math.abs(e.left),i=Math.abs(a._thumbsWrap.position().left),c=Math.abs(g.left)+h.outerWidth(!1)-c,e=e-d;0>e&&(e=0);e>c&&(e=c);c="+=0px";i>e?c="+="+(i-e)+"px":e>i&&(c="-="+(e-i)+"px");a._thumbsWrap.stop(!0,!1).animate({left:c},500)}}}function s(a,b){a=a||{};b=b||{};a.curSlideIndex=t(a,b);if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._sliderChildren){if(a.newSlideIndex>=a._sliderChildren.length||0>a.newSlideIndex||a.newSlideIndex==a.curSlideIndex)return;var d=a._sliderChildren.eq(a.newSlideIndex),c=a._sliderChildren.eq(a.curSlideIndex);d.css({"z-index":"2"}).stop(!0,!0);c.css({"z-index":"1"}).stop(!0,!0);b.fade?(c.show(),d.hide().fadeIn(400,function(){c.hide()})):(d.show(),c.hide());d.addClass("slip-gallery-slide-active");c.removeClass("slip-gallery-slide-active");a._thumbsContainer&&(a._thumbsChildren&&a._thumbsWrap)&&v(a,b)}a.newSlideIndex=!1;a.curSlideIndex=!1;x(a,b)}function w(a,b){a=a||{};b=b||{};if(a._sliderChildren){var d=t(a,b),c=d+1;c>=a._sliderChildren.length&&(c=0);a.curSlideIndex=d;a.newSlideIndex=c;s(a,b)}}function y(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer=setTimeout(function(){w(a,b)},b.delay))}function x(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer&&clearTimeout(a.timer),y(a,b))}var p={mainChildSelector:">*",thumbsContainerSelector:"",thumbsContainerWidth:"auto",thumbsContainerHeight:"auto",thumbsChildSelector:">*",thumbsWidth:"auto",thumbsHeight:"auto",thumbsSpaceWidth:"auto",thumbsSpaceHeight:"auto",thumbsShown:5,fixHeight:!0,fixWidth:!1,prevSelector:"",nextSelector:"",fade:!1,autoLoop:!0,delay:3E3};g.fn.SlipGallery=function(a){a=g.extend({},p,a);z(this,a)};var A=g(".slip-gallery"),B=g.extend({},p);z(A,B)})(jQuery);