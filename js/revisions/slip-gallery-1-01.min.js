(function(d){function g(a,b){if(b&&a&&0<a.length){for(var e in h)if(h.hasOwnProperty(e)){var c;c=a.attr("data-"+e);if("undefined"===typeof c||!1===c||""===c)c="";c&&(b[e]=c)}a.each(function(){var a={},a=d(this),c=!1,e=!1,l=!1,k=!1,h=!1,m=!1,j=!1;if(b.mainChildSelector&&(c=a.find(b.mainChildSelector),0<c.length&&(b.thumbsContainerSelector&&b.thumbsChildSelector&&(e=d(b.thumbsContainerSelector),0<e.length&&(e.addClass("slip-gallery-thumbs-container"),e.wrapInner('<div class="slip-gallery-thumbs-wrap"></div>'),
l=e.find(".slip-gallery-thumbs-wrap"),0<l.length&&(k=l.find(b.thumbsChildSelector),0<k.length&&(k.addClass("slip-gallery-thumbs-slide"),j=!0))),j&&(e.css({display:"block",position:"relative",overflow:"hidden"}),l.css({display:"block",position:"absolute",top:"0px",left:"0px",width:"9999px"}),k.css({"float":"left",cursor:"pointer",display:"block"}),k.eq(0).addClass("slip-gallery-thumbs-slide-active"))),!1==j||c.length==k.length))){a.css({position:"relative",display:"block"}).addClass("slip-gallery");
var g=!1,j=!1;c.each(function(a){var b=d(this);b.css({position:"absolute",left:"0px",top:"0px"});0==a?(g=b,b.css({"z-index":"2"}).addClass("slip-gallery-slide-active")):b.hide().css({"z-index":"1"});b.addClass("slip-gallery-slide")});j=d(d("<div />").append(d(g).eq(0).clone()).html());a.prepend(j);j.css({visibility:"hidden",display:"block",position:"static","z-index":"0",left:"",top:""}).removeClass("slip-gallery-slide slip-gallery-slide-active").addClass("slip-gallery-sentinel");b.prevSelector&&
(h=d(b.prevSelector),h.css({cursor:"pointer"}));b.nextSelector&&(m=d(b.nextSelector),m.css({cursor:"pointer"}));c=a={_slider:a,_sliderChildren:c,_thumbsContainer:e,_thumbsWrap:l,_thumbsChildren:k,_sentinelSlide:j,_prevBtn:h,_nextBtn:m,newSlideIndex:!1,curSlideIndex:!1,timer:!1};r(c,b);n(c,b);s(a,b);var f=a,i=b,f=f||{},i=i||{};f._thumbsChildren&&f._thumbsChildren.each(function(a){d(this).click(function(b){b.preventDefault();f.newSlideIndex=a;p(f,i)})});f._prevBtn&&f._prevBtn.click(function(a){a.preventDefault();
var a=f,b=i,a=a||{},b=b||{};if(a._sliderChildren){var c=q(a,b),e=c-1;0>e&&(e=a._sliderChildren.length-1);a.curSlideIndex=c;a.newSlideIndex=e;p(a,b)}});f._nextBtn&&f._nextBtn.click(function(a){a.preventDefault();t(f,i)});f.resizeCheck=!1;d(window).resize(function(){!1==f.resizeCheck&&(f.resizeCheck=!0,setTimeout(function(){n(f,i);r(f,i);n(f,i);var a=f,b=i;a._sliderChildren&&(a._sliderChildren.stop(!0,!0).removeClass("slip-gallery-slide-active").hide().css("z-index","1"),a._sliderChildren.eq(0).stop(!0,
!0).addClass("slip-gallery-slide-active").show().css("z-index","2"),a._thumbsContainer&&(a._thumbsWrap&&a._thumbsChildren)&&(a._thumbsWrap.stop(!0,!0).css("left","0px"),a._thumbsChildren.removeClass("slip-gallery-thumbs-slide-active"),a._thumbsChildren.eq(0).addClass("slip-gallery-thumbs-slide-active")));u(a,b);f.resizeCheck=!1},100))});c=b;a=a||{};c=c||{};v(a,c)}})}}function n(a,b){a._thumbsWrap.css("min-height",a._thumbsChildren.eq(0).outerHeight(!1));a._thumbsWrap.css("min-width",a._thumbsChildren.eq(0).outerWidth(!1));
if(b.fixWidth||b.fixHeight)a._thumbsWrap.css("position","static"),b.fixWidth&&a._thumbsContainer.css("width","").width(a._thumbsContainer.width()),b.fixHeight&&a._thumbsContainer.css("height","").height(a._thumbsContainer.height()),a._thumbsWrap.css("position","absolute")}function r(a,b){if(a._thumbsChildren&&1<=b.thumbsShown){var e=0<b.thumbsContainerWidth?b.thumbsContainerWidth:a._thumbsContainer.width(),c=0<b.thumbsWidth?b.thumbsWidth:e/b.thumbsShown;a._thumbsChildren.each(function(){d(this).width(c)})}}
function q(a){var a=a||{},b=0;a._sliderChildren&&a._sliderChildren.each(function(a){d(this).hasClass("slip-gallery-slide-active")&&(b=a)});return b}function s(a){a=a||{};if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._thumbsContainer&&a._thumbsWrap&&a._thumbsChildren){a._thumbsChildren.eq(a.curSlideIndex).removeClass("slip-gallery-thumbs-slide-active");a._thumbsChildren.eq(a.newSlideIndex).addClass("slip-gallery-thumbs-slide-active");var b=a._thumbsContainer.width(),e=a._thumbsChildren.eq(0).outerWidth(!1),
c=Math.ceil(b/e);if(a._thumbsChildren.length>c&&0<a._thumbsChildren.length-c){var e=b/2-e/2,d=a._thumbsChildren.eq(a.newSlideIndex),c=a._thumbsChildren.eq(a._thumbsChildren.length-1),d=d.position(),h=c.position(),d=Math.abs(d.left),g=Math.abs(a._thumbsWrap.position().left),b=Math.abs(h.left)+c.outerWidth(!0)-b,d=d-e;0>d&&(d=0);d>b&&(d=b);b="+=0px";g>d?b="+="+(g-d)+"px":d>g&&(b="-="+(d-g)+"px");a._thumbsWrap.stop(!0,!1).animate({left:b},500)}}}function p(a,b){a=a||{};b=b||{};a.curSlideIndex=q(a,b);
if(0<=a.newSlideIndex&&0<=a.curSlideIndex&&a._sliderChildren){if(a.newSlideIndex>=a._sliderChildren.length||0>a.newSlideIndex||a.newSlideIndex==a.curSlideIndex)return;var d=a._sliderChildren.eq(a.newSlideIndex),c=a._sliderChildren.eq(a.curSlideIndex);d.css({"z-index":"2"}).stop(!0,!0);c.css({"z-index":"1"}).stop(!0,!0);b.fade?(c.show(),d.hide().fadeIn(400,function(){c.hide()})):(d.show(),c.hide());d.addClass("slip-gallery-slide-active");c.removeClass("slip-gallery-slide-active");a._thumbsContainer&&
(a._thumbsChildren&&a._thumbsWrap)&&s(a,b)}a.newSlideIndex=!1;a.curSlideIndex=!1;u(a,b)}function t(a,b){a=a||{};b=b||{};if(a._sliderChildren){var d=q(a,b),c=d+1;c>=a._sliderChildren.length&&(c=0);a.curSlideIndex=d;a.newSlideIndex=c;p(a,b)}}function v(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer=setTimeout(function(){t(a,b)},b.delay))}function u(a,b){a=a||{};b=b||{};b.autoLoop&&(a.timer&&clearTimeout(a.timer),v(a,b))}var h={mainChildSelector:">*",thumbsContainerSelector:"",thumbsContainerWidth:"auto",
thumbsContainerHeight:"auto",thumbsChildSelector:">*",thumbsWidth:"auto",thumbsHeight:"auto",thumbsChildSpaceSelector:"",thumbsSpaceWidth:"auto",thumbsSpaceHeight:"auto",thumbsShown:"auto",fixHeight:!0,fixWidth:!1,prevSelector:"",nextSelector:"",fade:!1,autoLoop:!0,delay:3E3};d.fn.SlipGallery=function(a){a=d.extend({},h,a);g(this,a)};var w=d(".slip-gallery"),x=d.extend({},h);g(w,x)})(jQuery);
